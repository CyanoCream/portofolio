(function(e){let t=e.performance;function r(U){t&&t.mark&&t.mark(U)}function n(U,o){t&&t.measure&&t.measure(U,o)}r("Zone");let s=e.__Zone_symbol_prefix||"__zone_symbol__";function i(U){return s+U}let y=e[i("forceDuplicateZoneCheck")]===!0;if(e.Zone){if(y||typeof e.Zone.__symbol__!="function")throw new Error("Zone already loaded.");return e.Zone}let ie=class ie{static assertZonePatched(){if(e.Promise!==se.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let o=ie.current;for(;o.parent;)o=o.parent;return o}static get current(){return V.zone}static get currentTask(){return ne}static __load_patch(o,h,l=!1){if(se.hasOwnProperty(o)){if(!l&&y)throw Error("Already loaded patch: "+o)}else if(!e["__Zone_disable_"+o]){let O="Zone:"+o;r(O),se[o]=h(e,ie,X),n(O,O)}}get parent(){return this._parent}get name(){return this._name}constructor(o,h){this._parent=o,this._name=h?h.name||"unnamed":"<root>",this._properties=h&&h.properties||{},this._zoneDelegate=new a(this,this._parent&&this._parent._zoneDelegate,h)}get(o){let h=this.getZoneWith(o);if(h)return h._properties[o]}getZoneWith(o){let h=this;for(;h;){if(h._properties.hasOwnProperty(o))return h;h=h._parent}return null}fork(o){if(!o)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,o)}wrap(o,h){if(typeof o!="function")throw new Error("Expecting function got: "+o);let l=this._zoneDelegate.intercept(this,o,h),O=this;return function(){return O.runGuarded(l,this,arguments,h)}}run(o,h,l,O){V={parent:V,zone:this};try{return this._zoneDelegate.invoke(this,o,h,l,O)}finally{V=V.parent}}runGuarded(o,h=null,l,O){V={parent:V,zone:this};try{try{return this._zoneDelegate.invoke(this,o,h,l,O)}catch(W){if(this._zoneDelegate.handleError(this,W))throw W}}finally{V=V.parent}}runTask(o,h,l){if(o.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(o.zone||C).name+"; Execution: "+this.name+")");if(o.state===I&&(o.type===K||o.type===M))return;let O=o.state!=R;O&&o._transitionTo(R,H),o.runCount++;let W=ne;ne=o,V={parent:V,zone:this};try{o.type==M&&o.data&&!o.data.isPeriodic&&(o.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,o,h,l)}catch(S){if(this._zoneDelegate.handleError(this,S))throw S}}finally{o.state!==I&&o.state!==A&&(o.type==K||o.data&&o.data.isPeriodic?O&&o._transitionTo(H,R):(o.runCount=0,this._updateTaskCount(o,-1),O&&o._transitionTo(I,R,I))),V=V.parent,ne=W}}scheduleTask(o){if(o.zone&&o.zone!==this){let l=this;for(;l;){if(l===o.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${o.zone.name}`);l=l.parent}}o._transitionTo(L,I);let h=[];o._zoneDelegates=h,o._zone=this;try{o=this._zoneDelegate.scheduleTask(this,o)}catch(l){throw o._transitionTo(A,L,I),this._zoneDelegate.handleError(this,l),l}return o._zoneDelegates===h&&this._updateTaskCount(o,1),o.state==L&&o._transitionTo(H,L),o}scheduleMicroTask(o,h,l,O){return this.scheduleTask(new T($,o,h,l,O,void 0))}scheduleMacroTask(o,h,l,O,W){return this.scheduleTask(new T(M,o,h,l,O,W))}scheduleEventTask(o,h,l,O,W){return this.scheduleTask(new T(K,o,h,l,O,W))}cancelTask(o){if(o.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(o.zone||C).name+"; Execution: "+this.name+")");if(!(o.state!==H&&o.state!==R)){o._transitionTo(z,H,R);try{this._zoneDelegate.cancelTask(this,o)}catch(h){throw o._transitionTo(A,z),this._zoneDelegate.handleError(this,h),h}return this._updateTaskCount(o,-1),o._transitionTo(I,z),o.runCount=0,o}}_updateTaskCount(o,h){let l=o._zoneDelegates;h==-1&&(o._zoneDelegates=null);for(let O=0;O<l.length;O++)l[O]._updateTaskCount(o.type,h)}};ie.__symbol__=i;let c=ie,u={name:"",onHasTask:(U,o,h,l)=>U.hasTask(h,l),onScheduleTask:(U,o,h,l)=>U.scheduleTask(h,l),onInvokeTask:(U,o,h,l,O,W)=>U.invokeTask(h,l,O,W),onCancelTask:(U,o,h,l)=>U.cancelTask(h,l)};class a{constructor(o,h,l){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=o,this._parentDelegate=h,this._forkZS=l&&(l&&l.onFork?l:h._forkZS),this._forkDlgt=l&&(l.onFork?h:h._forkDlgt),this._forkCurrZone=l&&(l.onFork?this.zone:h._forkCurrZone),this._interceptZS=l&&(l.onIntercept?l:h._interceptZS),this._interceptDlgt=l&&(l.onIntercept?h:h._interceptDlgt),this._interceptCurrZone=l&&(l.onIntercept?this.zone:h._interceptCurrZone),this._invokeZS=l&&(l.onInvoke?l:h._invokeZS),this._invokeDlgt=l&&(l.onInvoke?h:h._invokeDlgt),this._invokeCurrZone=l&&(l.onInvoke?this.zone:h._invokeCurrZone),this._handleErrorZS=l&&(l.onHandleError?l:h._handleErrorZS),this._handleErrorDlgt=l&&(l.onHandleError?h:h._handleErrorDlgt),this._handleErrorCurrZone=l&&(l.onHandleError?this.zone:h._handleErrorCurrZone),this._scheduleTaskZS=l&&(l.onScheduleTask?l:h._scheduleTaskZS),this._scheduleTaskDlgt=l&&(l.onScheduleTask?h:h._scheduleTaskDlgt),this._scheduleTaskCurrZone=l&&(l.onScheduleTask?this.zone:h._scheduleTaskCurrZone),this._invokeTaskZS=l&&(l.onInvokeTask?l:h._invokeTaskZS),this._invokeTaskDlgt=l&&(l.onInvokeTask?h:h._invokeTaskDlgt),this._invokeTaskCurrZone=l&&(l.onInvokeTask?this.zone:h._invokeTaskCurrZone),this._cancelTaskZS=l&&(l.onCancelTask?l:h._cancelTaskZS),this._cancelTaskDlgt=l&&(l.onCancelTask?h:h._cancelTaskDlgt),this._cancelTaskCurrZone=l&&(l.onCancelTask?this.zone:h._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;let O=l&&l.onHasTask,W=h&&h._hasTaskZS;(O||W)&&(this._hasTaskZS=O?l:u,this._hasTaskDlgt=h,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=o,l.onScheduleTask||(this._scheduleTaskZS=u,this._scheduleTaskDlgt=h,this._scheduleTaskCurrZone=this.zone),l.onInvokeTask||(this._invokeTaskZS=u,this._invokeTaskDlgt=h,this._invokeTaskCurrZone=this.zone),l.onCancelTask||(this._cancelTaskZS=u,this._cancelTaskDlgt=h,this._cancelTaskCurrZone=this.zone))}fork(o,h){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,o,h):new c(o,h)}intercept(o,h,l){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,o,h,l):h}invoke(o,h,l,O,W){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,o,h,l,O,W):h.apply(l,O)}handleError(o,h){return this._handleErrorZS?this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,o,h):!0}scheduleTask(o,h){let l=h;if(this._scheduleTaskZS)this._hasTaskZS&&l._zoneDelegates.push(this._hasTaskDlgtOwner),l=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,o,h),l||(l=h);else if(h.scheduleFn)h.scheduleFn(h);else if(h.type==$)f(h);else throw new Error("Task is missing scheduleFn.");return l}invokeTask(o,h,l,O){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,o,h,l,O):h.callback.apply(l,O)}cancelTask(o,h){let l;if(this._cancelTaskZS)l=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,o,h);else{if(!h.cancelFn)throw Error("Task is not cancelable");l=h.cancelFn(h)}return l}hasTask(o,h){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,o,h)}catch(l){this.handleError(o,l)}}_updateTaskCount(o,h){let l=this._taskCounts,O=l[o],W=l[o]=O+h;if(W<0)throw new Error("More tasks executed then were scheduled.");if(O==0||W==0){let S={microTask:l.microTask>0,macroTask:l.macroTask>0,eventTask:l.eventTask>0,change:o};this.hasTask(this.zone,S)}}}class T{constructor(o,h,l,O,W,S){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=o,this.source=h,this.data=O,this.scheduleFn=W,this.cancelFn=S,!l)throw new Error("callback is not defined");this.callback=l;let E=this;o===K&&O&&O.useG?this.invoke=T.invokeTask:this.invoke=function(){return T.invokeTask.call(e,E,this,arguments)}}static invokeTask(o,h,l){o||(o=this),ee++;try{return o.runCount++,o.zone.runTask(o,h,l)}finally{ee==1&&m(),ee--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(I,L)}_transitionTo(o,h,l){if(this._state===h||this._state===l)this._state=o,o==I&&(this._zoneDelegates=null);else throw new Error(`${this.type} '${this.source}': can not transition to '${o}', expecting state '${h}'${l?" or '"+l+"'":""}, was '${this._state}'.`)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}let d=i("setTimeout"),w=i("Promise"),_=i("then"),g=[],v=!1,P;function k(U){if(P||e[w]&&(P=e[w].resolve(0)),P){let o=P[_];o||(o=P.then),o.call(P,U)}else e[d](U,0)}function f(U){ee===0&&g.length===0&&k(m),U&&g.push(U)}function m(){if(!v){for(v=!0;g.length;){let U=g;g=[];for(let o=0;o<U.length;o++){let h=U[o];try{h.zone.runTask(h,null,null)}catch(l){X.onUnhandledError(l)}}}X.microtaskDrainDone(),v=!1}}let C={name:"NO ZONE"},I="notScheduled",L="scheduling",H="scheduled",R="running",z="canceling",A="unknown",$="microTask",M="macroTask",K="eventTask",se={},X={symbol:i,currentZoneFrame:()=>V,onUnhandledError:Q,microtaskDrainDone:Q,scheduleMicroTask:f,showUncaughtError:()=>!c[i("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:Q,patchMethod:()=>Q,bindArguments:()=>[],patchThen:()=>Q,patchMacroTask:()=>Q,patchEventPrototype:()=>Q,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>Q,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>Q,wrapWithCurrentZone:()=>Q,filterProperties:()=>[],attachOriginToPatched:()=>Q,_redefineProperty:()=>Q,patchCallbacks:()=>Q,nativeScheduleMicroTask:k},V={parent:null,zone:new c(null,null)},ne=null,ee=0;function Q(){}return n("Zone","Zone"),e.Zone=c})(globalThis);var ge=Object.getOwnPropertyDescriptor,xe=Object.defineProperty,Ne=Object.getPrototypeOf,bt=Object.create,It=Array.prototype.slice,Fe="addEventListener",Le="removeEventListener",De=Zone.__symbol__(Fe),Oe=Zone.__symbol__(Le),ce="true",ae="false",ke=Zone.__symbol__("");function He(e,t){return Zone.current.wrap(e,t)}function $e(e,t,r,n,s){return Zone.current.scheduleMacroTask(e,t,r,n,s)}var q=Zone.__symbol__,we=typeof window<"u",me=we?window:void 0,Y=we&&me||globalThis,Ct="removeAttribute";function Ue(e,t){for(let r=e.length-1;r>=0;r--)typeof e[r]=="function"&&(e[r]=He(e[r],t+"_"+r));return e}function At(e,t){let r=e.constructor.name;for(let n=0;n<t.length;n++){let s=t[n],i=e[s];if(i){let y=ge(e,s);if(!it(y))continue;e[s]=(c=>{let u=function(){return c.apply(this,Ue(arguments,r+"."+s))};return ue(u,c),u})(i)}}}function it(e){return e?e.writable===!1?!1:!(typeof e.get=="function"&&typeof e.set>"u"):!0}var ot=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,be=!("nw"in Y)&&typeof Y.process<"u"&&{}.toString.call(Y.process)==="[object process]",qe=!be&&!ot&&!!(we&&me.HTMLElement),ct=typeof Y.process<"u"&&{}.toString.call(Y.process)==="[object process]"&&!ot&&!!(we&&me.HTMLElement),ve={},tt=function(e){if(e=e||Y.event,!e)return;let t=ve[e.type];t||(t=ve[e.type]=q("ON_PROPERTY"+e.type));let r=this||e.target||Y,n=r[t],s;if(qe&&r===me&&e.type==="error"){let i=e;s=n&&n.call(this,i.message,i.filename,i.lineno,i.colno,i.error),s===!0&&e.preventDefault()}else s=n&&n.apply(this,arguments),s!=null&&!s&&e.preventDefault();return s};function nt(e,t,r){let n=ge(e,t);if(!n&&r&&ge(r,t)&&(n={enumerable:!0,configurable:!0}),!n||!n.configurable)return;let s=q("on"+t+"patched");if(e.hasOwnProperty(s)&&e[s])return;delete n.writable,delete n.value;let i=n.get,y=n.set,c=t.slice(2),u=ve[c];u||(u=ve[c]=q("ON_PROPERTY"+c)),n.set=function(a){let T=this;if(!T&&e===Y&&(T=Y),!T)return;typeof T[u]=="function"&&T.removeEventListener(c,tt),y&&y.call(T,null),T[u]=a,typeof a=="function"&&T.addEventListener(c,tt,!1)},n.get=function(){let a=this;if(!a&&e===Y&&(a=Y),!a)return null;let T=a[u];if(T)return T;if(i){let d=i.call(this);if(d)return n.set.call(this,d),typeof a[Ct]=="function"&&a.removeAttribute(t),d}return null},xe(e,t,n),e[s]=!0}function at(e,t,r){if(t)for(let n=0;n<t.length;n++)nt(e,"on"+t[n],r);else{let n=[];for(let s in e)s.slice(0,2)=="on"&&n.push(s);for(let s=0;s<n.length;s++)nt(e,n[s],r)}}var re=q("originalInstance");function Ee(e){let t=Y[e];if(!t)return;Y[q(e)]=t,Y[e]=function(){let s=Ue(arguments,e);switch(s.length){case 0:this[re]=new t;break;case 1:this[re]=new t(s[0]);break;case 2:this[re]=new t(s[0],s[1]);break;case 3:this[re]=new t(s[0],s[1],s[2]);break;case 4:this[re]=new t(s[0],s[1],s[2],s[3]);break;default:throw new Error("Arg list too long.")}},ue(Y[e],t);let r=new t(function(){}),n;for(n in r)e==="XMLHttpRequest"&&n==="responseBlob"||function(s){typeof r[s]=="function"?Y[e].prototype[s]=function(){return this[re][s].apply(this[re],arguments)}:xe(Y[e].prototype,s,{set:function(i){typeof i=="function"?(this[re][s]=He(i,e+"."+s),ue(this[re][s],i)):this[re][s]=i},get:function(){return this[re][s]}})}(n);for(n in t)n!=="prototype"&&t.hasOwnProperty(n)&&(Y[e][n]=t[n])}function le(e,t,r){let n=e;for(;n&&!n.hasOwnProperty(t);)n=Ne(n);!n&&e[t]&&(n=e);let s=q(t),i=null;if(n&&(!(i=n[s])||!n.hasOwnProperty(s))){i=n[s]=n[t];let y=n&&ge(n,t);if(it(y)){let c=r(i,s,t);n[t]=function(){return c(this,arguments)},ue(n[t],i)}}return i}function Rt(e,t,r){let n=null;function s(i){let y=i.data;return y.args[y.cbIdx]=function(){i.invoke.apply(this,arguments)},n.apply(y.target,y.args),i}n=le(e,t,i=>function(y,c){let u=r(y,c);return u.cbIdx>=0&&typeof c[u.cbIdx]=="function"?$e(u.name,c[u.cbIdx],u,s):i.apply(y,c)})}function ue(e,t){e[q("OriginalDelegate")]=t}var rt=!1,Me=!1;function Zt(){try{let e=me.navigator.userAgent;if(e.indexOf("MSIE ")!==-1||e.indexOf("Trident/")!==-1)return!0}catch{}return!1}function Dt(){if(rt)return Me;rt=!0;try{let e=me.navigator.userAgent;(e.indexOf("MSIE ")!==-1||e.indexOf("Trident/")!==-1||e.indexOf("Edge/")!==-1)&&(Me=!0)}catch{}return Me}Zone.__load_patch("ZoneAwarePromise",(e,t,r)=>{let n=Object.getOwnPropertyDescriptor,s=Object.defineProperty;function i(S){if(S&&S.toString===Object.prototype.toString){let E=S.constructor&&S.constructor.name;return(E||"")+": "+JSON.stringify(S)}return S?S.toString():Object.prototype.toString.call(S)}let y=r.symbol,c=[],u=e[y("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")]!==!1,a=y("Promise"),T=y("then"),d="__creationTrace__";r.onUnhandledError=S=>{if(r.showUncaughtError()){let E=S&&S.rejection;E?console.error("Unhandled Promise rejection:",E instanceof Error?E.message:E,"; Zone:",S.zone.name,"; Task:",S.task&&S.task.source,"; Value:",E,E instanceof Error?E.stack:void 0):console.error(S)}},r.microtaskDrainDone=()=>{for(;c.length;){let S=c.shift();try{S.zone.runGuarded(()=>{throw S.throwOriginal?S.rejection:S})}catch(E){_(E)}}};let w=y("unhandledPromiseRejectionHandler");function _(S){r.onUnhandledError(S);try{let E=t[w];typeof E=="function"&&E.call(this,S)}catch{}}function g(S){return S&&S.then}function v(S){return S}function P(S){return o.reject(S)}let k=y("state"),f=y("value"),m=y("finally"),C=y("parentPromiseValue"),I=y("parentPromiseState"),L="Promise.then",H=null,R=!0,z=!1,A=0;function $(S,E){return p=>{try{X(S,E,p)}catch(b){X(S,!1,b)}}}let M=function(){let S=!1;return function(p){return function(){S||(S=!0,p.apply(null,arguments))}}},K="Promise resolved with itself",se=y("currentTaskTrace");function X(S,E,p){let b=M();if(S===p)throw new TypeError(K);if(S[k]===H){let D=null;try{(typeof p=="object"||typeof p=="function")&&(D=p&&p.then)}catch(j){return b(()=>{X(S,!1,j)})(),S}if(E!==z&&p instanceof o&&p.hasOwnProperty(k)&&p.hasOwnProperty(f)&&p[k]!==H)ne(p),X(S,p[k],p[f]);else if(E!==z&&typeof D=="function")try{D.call(p,b($(S,E)),b($(S,!1)))}catch(j){b(()=>{X(S,!1,j)})()}else{S[k]=E;let j=S[f];if(S[f]=p,S[m]===m&&E===R&&(S[k]=S[I],S[f]=S[C]),E===z&&p instanceof Error){let Z=t.currentTask&&t.currentTask.data&&t.currentTask.data[d];Z&&s(p,se,{configurable:!0,enumerable:!1,writable:!0,value:Z})}for(let Z=0;Z<j.length;)ee(S,j[Z++],j[Z++],j[Z++],j[Z++]);if(j.length==0&&E==z){S[k]=A;let Z=p;try{throw new Error("Uncaught (in promise): "+i(p)+(p&&p.stack?`
`+p.stack:""))}catch(x){Z=x}u&&(Z.throwOriginal=!0),Z.rejection=p,Z.promise=S,Z.zone=t.current,Z.task=t.currentTask,c.push(Z),r.scheduleMicroTask()}}}return S}let V=y("rejectionHandledHandler");function ne(S){if(S[k]===A){try{let E=t[V];E&&typeof E=="function"&&E.call(this,{rejection:S[f],promise:S})}catch{}S[k]=z;for(let E=0;E<c.length;E++)S===c[E].promise&&c.splice(E,1)}}function ee(S,E,p,b,D){ne(S);let j=S[k],Z=j?typeof b=="function"?b:v:typeof D=="function"?D:P;E.scheduleMicroTask(L,()=>{try{let x=S[f],N=!!p&&m===p[m];N&&(p[C]=x,p[I]=j);let F=E.run(Z,void 0,N&&Z!==P&&Z!==v?[]:[x]);X(p,!0,F)}catch(x){X(p,!1,x)}},p)}let Q="function ZoneAwarePromise() { [native code] }",ie=function(){},U=e.AggregateError;class o{static toString(){return Q}static resolve(E){return E instanceof o?E:X(new this(null),R,E)}static reject(E){return X(new this(null),z,E)}static withResolvers(){let E={};return E.promise=new o((p,b)=>{E.resolve=p,E.reject=b}),E}static any(E){if(!E||typeof E[Symbol.iterator]!="function")return Promise.reject(new U([],"All promises were rejected"));let p=[],b=0;try{for(let Z of E)b++,p.push(o.resolve(Z))}catch{return Promise.reject(new U([],"All promises were rejected"))}if(b===0)return Promise.reject(new U([],"All promises were rejected"));let D=!1,j=[];return new o((Z,x)=>{for(let N=0;N<p.length;N++)p[N].then(F=>{D||(D=!0,Z(F))},F=>{j.push(F),b--,b===0&&(D=!0,x(new U(j,"All promises were rejected")))})})}static race(E){let p,b,D=new this((x,N)=>{p=x,b=N});function j(x){p(x)}function Z(x){b(x)}for(let x of E)g(x)||(x=this.resolve(x)),x.then(j,Z);return D}static all(E){return o.allWithCallback(E)}static allSettled(E){return(this&&this.prototype instanceof o?this:o).allWithCallback(E,{thenCallback:b=>({status:"fulfilled",value:b}),errorCallback:b=>({status:"rejected",reason:b})})}static allWithCallback(E,p){let b,D,j=new this((F,B)=>{b=F,D=B}),Z=2,x=0,N=[];for(let F of E){g(F)||(F=this.resolve(F));let B=x;try{F.then(G=>{N[B]=p?p.thenCallback(G):G,Z--,Z===0&&b(N)},G=>{p?(N[B]=p.errorCallback(G),Z--,Z===0&&b(N)):D(G)})}catch(G){D(G)}Z++,x++}return Z-=2,Z===0&&b(N),j}constructor(E){let p=this;if(!(p instanceof o))throw new Error("Must be an instanceof Promise.");p[k]=H,p[f]=[];try{let b=M();E&&E(b($(p,R)),b($(p,z)))}catch(b){X(p,!1,b)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return o}then(E,p){let b=this.constructor?.[Symbol.species];(!b||typeof b!="function")&&(b=this.constructor||o);let D=new b(ie),j=t.current;return this[k]==H?this[f].push(j,D,E,p):ee(this,j,D,E,p),D}catch(E){return this.then(null,E)}finally(E){let p=this.constructor?.[Symbol.species];(!p||typeof p!="function")&&(p=o);let b=new p(ie);b[m]=m;let D=t.current;return this[k]==H?this[f].push(D,b,E,E):ee(this,D,b,E,E),b}}o.resolve=o.resolve,o.reject=o.reject,o.race=o.race,o.all=o.all;let h=e[a]=e.Promise;e.Promise=o;let l=y("thenPatched");function O(S){let E=S.prototype,p=n(E,"then");if(p&&(p.writable===!1||!p.configurable))return;let b=E.then;E[T]=b,S.prototype.then=function(D,j){return new o((x,N)=>{b.call(this,x,N)}).then(D,j)},S[l]=!0}r.patchThen=O;function W(S){return function(E,p){let b=S.apply(E,p);if(b instanceof o)return b;let D=b.constructor;return D[l]||O(D),b}}return h&&(O(h),le(e,"fetch",S=>W(S))),Promise[t.__symbol__("uncaughtPromiseErrors")]=c,o});Zone.__load_patch("toString",e=>{let t=Function.prototype.toString,r=q("OriginalDelegate"),n=q("Promise"),s=q("Error"),i=function(){if(typeof this=="function"){let a=this[r];if(a)return typeof a=="function"?t.call(a):Object.prototype.toString.call(a);if(this===Promise){let T=e[n];if(T)return t.call(T)}if(this===Error){let T=e[s];if(T)return t.call(T)}}return t.call(this)};i[r]=t,Function.prototype.toString=i;let y=Object.prototype.toString,c="[object Promise]";Object.prototype.toString=function(){return typeof Promise=="function"&&this instanceof Promise?c:y.call(this)}});var pe=!1;if(typeof window<"u")try{let e=Object.defineProperty({},"passive",{get:function(){pe=!0}});window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch{pe=!1}var Ot={useG:!0},te={},ut={},lt=new RegExp("^"+ke+"(\\w+)(true|false)$"),ht=q("propagationStopped");function ft(e,t){let r=(t?t(e):e)+ae,n=(t?t(e):e)+ce,s=ke+r,i=ke+n;te[e]={},te[e][ae]=s,te[e][ce]=i}function Mt(e,t,r,n){let s=n&&n.add||Fe,i=n&&n.rm||Le,y=n&&n.listeners||"eventListeners",c=n&&n.rmAll||"removeAllListeners",u=q(s),a="."+s+":",T="prependListener",d="."+T+":",w=function(f,m,C){if(f.isRemoved)return;let I=f.callback;typeof I=="object"&&I.handleEvent&&(f.callback=R=>I.handleEvent(R),f.originalDelegate=I);let L;try{f.invoke(f,m,[C])}catch(R){L=R}let H=f.options;if(H&&typeof H=="object"&&H.once){let R=f.originalDelegate?f.originalDelegate:f.callback;m[i].call(m,C.type,R,H)}return L};function _(f,m,C){if(m=m||e.event,!m)return;let I=f||m.target||e,L=I[te[m.type][C?ce:ae]];if(L){let H=[];if(L.length===1){let R=w(L[0],I,m);R&&H.push(R)}else{let R=L.slice();for(let z=0;z<R.length&&!(m&&m[ht]===!0);z++){let A=w(R[z],I,m);A&&H.push(A)}}if(H.length===1)throw H[0];for(let R=0;R<H.length;R++){let z=H[R];t.nativeScheduleMicroTask(()=>{throw z})}}}let g=function(f){return _(this,f,!1)},v=function(f){return _(this,f,!0)};function P(f,m){if(!f)return!1;let C=!0;m&&m.useG!==void 0&&(C=m.useG);let I=m&&m.vh,L=!0;m&&m.chkDup!==void 0&&(L=m.chkDup);let H=!1;m&&m.rt!==void 0&&(H=m.rt);let R=f;for(;R&&!R.hasOwnProperty(s);)R=Ne(R);if(!R&&f[s]&&(R=f),!R||R[u])return!1;let z=m&&m.eventNameToString,A={},$=R[u]=R[s],M=R[q(i)]=R[i],K=R[q(y)]=R[y],se=R[q(c)]=R[c],X;m&&m.prepend&&(X=R[q(m.prepend)]=R[m.prepend]);function V(p,b){return!pe&&typeof p=="object"&&p?!!p.capture:!pe||!b?p:typeof p=="boolean"?{capture:p,passive:!0}:p?typeof p=="object"&&p.passive!==!1?{...p,passive:!0}:p:{passive:!0}}let ne=function(p){if(!A.isExisting)return $.call(A.target,A.eventName,A.capture?v:g,A.options)},ee=function(p){if(!p.isRemoved){let b=te[p.eventName],D;b&&(D=b[p.capture?ce:ae]);let j=D&&p.target[D];if(j){for(let Z=0;Z<j.length;Z++)if(j[Z]===p){j.splice(Z,1),p.isRemoved=!0,j.length===0&&(p.allRemoved=!0,p.target[D]=null);break}}}if(p.allRemoved)return M.call(p.target,p.eventName,p.capture?v:g,p.options)},Q=function(p){return $.call(A.target,A.eventName,p.invoke,A.options)},ie=function(p){return X.call(A.target,A.eventName,p.invoke,A.options)},U=function(p){return M.call(p.target,p.eventName,p.invoke,p.options)},o=C?ne:Q,h=C?ee:U,l=function(p,b){let D=typeof b;return D==="function"&&p.callback===b||D==="object"&&p.originalDelegate===b},O=m&&m.diff?m.diff:l,W=Zone[q("UNPATCHED_EVENTS")],S=e[q("PASSIVE_EVENTS")],E=function(p,b,D,j,Z=!1,x=!1){return function(){let N=this||e,F=arguments[0];m&&m.transferEventName&&(F=m.transferEventName(F));let B=arguments[1];if(!B)return p.apply(this,arguments);if(be&&F==="uncaughtException")return p.apply(this,arguments);let G=!1;if(typeof B!="function"){if(!B.handleEvent)return p.apply(this,arguments);G=!0}if(I&&!I(p,B,N,arguments))return;let he=pe&&!!S&&S.indexOf(F)!==-1,J=V(arguments[2],he),_e=J&&typeof J=="object"&&J.signal&&typeof J.signal=="object"?J.signal:void 0;if(_e?.aborted)return;if(W){for(let fe=0;fe<W.length;fe++)if(F===W[fe])return he?p.call(N,F,B,J):p.apply(this,arguments)}let Re=J?typeof J=="boolean"?!0:J.capture:!1,Xe=J&&typeof J=="object"?J.once:!1,wt=Zone.current,Ze=te[F];Ze||(ft(F,z),Ze=te[F]);let Ye=Ze[Re?ce:ae],de=N[Ye],Ke=!1;if(de){if(Ke=!0,L){for(let fe=0;fe<de.length;fe++)if(O(de[fe],B))return}}else de=N[Ye]=[];let Pe,Je=N.constructor.name,et=ut[Je];et&&(Pe=et[F]),Pe||(Pe=Je+b+(z?z(F):F)),A.options=J,Xe&&(A.options.once=!1),A.target=N,A.capture=Re,A.eventName=F,A.isExisting=Ke;let ye=C?Ot:void 0;ye&&(ye.taskData=A),_e&&(A.options.signal=void 0);let oe=wt.scheduleEventTask(Pe,B,ye,D,j);if(_e&&(A.options.signal=_e,p.call(_e,"abort",()=>{oe.zone.cancelTask(oe)},{once:!0})),A.target=null,ye&&(ye.taskData=null),Xe&&(J.once=!0),!pe&&typeof oe.options=="boolean"||(oe.options=J),oe.target=N,oe.capture=Re,oe.eventName=F,G&&(oe.originalDelegate=B),x?de.unshift(oe):de.push(oe),Z)return N}};return R[s]=E($,a,o,h,H),X&&(R[T]=E(X,d,ie,h,H,!0)),R[i]=function(){let p=this||e,b=arguments[0];m&&m.transferEventName&&(b=m.transferEventName(b));let D=arguments[2],j=D?typeof D=="boolean"?!0:D.capture:!1,Z=arguments[1];if(!Z)return M.apply(this,arguments);if(I&&!I(M,Z,p,arguments))return;let x=te[b],N;x&&(N=x[j?ce:ae]);let F=N&&p[N];if(F)for(let B=0;B<F.length;B++){let G=F[B];if(O(G,Z)){if(F.splice(B,1),G.isRemoved=!0,F.length===0&&(G.allRemoved=!0,p[N]=null,typeof b=="string")){let he=ke+"ON_PROPERTY"+b;p[he]=null}return G.zone.cancelTask(G),H?p:void 0}}return M.apply(this,arguments)},R[y]=function(){let p=this||e,b=arguments[0];m&&m.transferEventName&&(b=m.transferEventName(b));let D=[],j=dt(p,z?z(b):b);for(let Z=0;Z<j.length;Z++){let x=j[Z],N=x.originalDelegate?x.originalDelegate:x.callback;D.push(N)}return D},R[c]=function(){let p=this||e,b=arguments[0];if(b){m&&m.transferEventName&&(b=m.transferEventName(b));let D=te[b];if(D){let j=D[ae],Z=D[ce],x=p[j],N=p[Z];if(x){let F=x.slice();for(let B=0;B<F.length;B++){let G=F[B],he=G.originalDelegate?G.originalDelegate:G.callback;this[i].call(this,b,he,G.options)}}if(N){let F=N.slice();for(let B=0;B<F.length;B++){let G=F[B],he=G.originalDelegate?G.originalDelegate:G.callback;this[i].call(this,b,he,G.options)}}}}else{let D=Object.keys(p);for(let j=0;j<D.length;j++){let Z=D[j],x=lt.exec(Z),N=x&&x[1];N&&N!=="removeListener"&&this[c].call(this,N)}this[c].call(this,"removeListener")}if(H)return this},ue(R[s],$),ue(R[i],M),se&&ue(R[c],se),K&&ue(R[y],K),!0}let k=[];for(let f=0;f<r.length;f++)k[f]=P(r[f],n);return k}function dt(e,t){if(!t){let i=[];for(let y in e){let c=lt.exec(y),u=c&&c[1];if(u&&(!t||u===t)){let a=e[y];if(a)for(let T=0;T<a.length;T++)i.push(a[T])}}return i}let r=te[t];r||(ft(t),r=te[t]);let n=e[r[ae]],s=e[r[ce]];return n?s?n.concat(s):n.slice():s?s.slice():[]}function jt(e,t){let r=e.Event;r&&r.prototype&&t.patchMethod(r.prototype,"stopImmediatePropagation",n=>function(s,i){s[ht]=!0,n&&n.apply(s,i)})}function xt(e,t,r,n,s){let i=Zone.__symbol__(n);if(t[i])return;let y=t[i]=t[n];t[n]=function(c,u,a){return u&&u.prototype&&s.forEach(function(T){let d=`${r}.${n}::`+T,w=u.prototype;try{if(w.hasOwnProperty(T)){let _=e.ObjectGetOwnPropertyDescriptor(w,T);_&&_.value?(_.value=e.wrapWithCurrentZone(_.value,d),e._redefineProperty(u.prototype,T,_)):w[T]&&(w[T]=e.wrapWithCurrentZone(w[T],d))}else w[T]&&(w[T]=e.wrapWithCurrentZone(w[T],d))}catch{}}),y.call(t,c,u,a)},e.attachOriginToPatched(t[n],y)}function pt(e,t,r){if(!r||r.length===0)return t;let n=r.filter(i=>i.target===e);if(!n||n.length===0)return t;let s=n[0].ignoreProperties;return t.filter(i=>s.indexOf(i)===-1)}function st(e,t,r,n){if(!e)return;let s=pt(e,t,r);at(e,s,n)}function je(e){return Object.getOwnPropertyNames(e).filter(t=>t.startsWith("on")&&t.length>2).map(t=>t.substring(2))}function Nt(e,t){if(be&&!ct||Zone[e.symbol("patchEvents")])return;let r=t.__Zone_ignore_on_properties,n=[];if(qe){let s=window;n=n.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);let i=Zt()?[{target:s,ignoreProperties:["error"]}]:[];st(s,je(s),r&&r.concat(i),Ne(s))}n=n.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let s=0;s<n.length;s++){let i=t[n[s]];i&&i.prototype&&st(i.prototype,je(i.prototype),r)}}Zone.__load_patch("util",(e,t,r)=>{let n=je(e);r.patchOnProperties=at,r.patchMethod=le,r.bindArguments=Ue,r.patchMacroTask=Rt;let s=t.__symbol__("BLACK_LISTED_EVENTS"),i=t.__symbol__("UNPATCHED_EVENTS");e[i]&&(e[s]=e[i]),e[s]&&(t[s]=t[i]=e[s]),r.patchEventPrototype=jt,r.patchEventTarget=Mt,r.isIEOrEdge=Dt,r.ObjectDefineProperty=xe,r.ObjectGetOwnPropertyDescriptor=ge,r.ObjectCreate=bt,r.ArraySlice=It,r.patchClass=Ee,r.wrapWithCurrentZone=He,r.filterProperties=pt,r.attachOriginToPatched=ue,r._redefineProperty=Object.defineProperty,r.patchCallbacks=xt,r.getGlobalObjects=()=>({globalSources:ut,zoneSymbolEventNames:te,eventNames:n,isBrowser:qe,isMix:ct,isNode:be,TRUE_STR:ce,FALSE_STR:ae,ZONE_SYMBOL_PREFIX:ke,ADD_EVENT_LISTENER_STR:Fe,REMOVE_EVENT_LISTENER_STR:Le})});function Ft(e,t){t.patchMethod(e,"queueMicrotask",r=>function(n,s){Zone.current.scheduleMicroTask("queueMicrotask",s[0])})}var Se=q("zoneTask");function Te(e,t,r,n){let s=null,i=null;t+=n,r+=n;let y={};function c(a){let T=a.data;return T.args[0]=function(){return a.invoke.apply(this,arguments)},T.handleId=s.apply(e,T.args),a}function u(a){return i.call(e,a.data.handleId)}s=le(e,t,a=>function(T,d){if(typeof d[0]=="function"){let w={isPeriodic:n==="Interval",delay:n==="Timeout"||n==="Interval"?d[1]||0:void 0,args:d},_=d[0];d[0]=function(){try{return _.apply(this,arguments)}finally{w.isPeriodic||(typeof w.handleId=="number"?delete y[w.handleId]:w.handleId&&(w.handleId[Se]=null))}};let g=$e(t,d[0],w,c,u);if(!g)return g;let v=g.data.handleId;return typeof v=="number"?y[v]=g:v&&(v[Se]=g),v&&v.ref&&v.unref&&typeof v.ref=="function"&&typeof v.unref=="function"&&(g.ref=v.ref.bind(v),g.unref=v.unref.bind(v)),typeof v=="number"||v?v:g}else return a.apply(e,d)}),i=le(e,r,a=>function(T,d){let w=d[0],_;typeof w=="number"?_=y[w]:(_=w&&w[Se],_||(_=w)),_&&typeof _.type=="string"?_.state!=="notScheduled"&&(_.cancelFn&&_.data.isPeriodic||_.runCount===0)&&(typeof w=="number"?delete y[w]:w&&(w[Se]=null),_.zone.cancelTask(_)):a.apply(e,d)})}function Lt(e,t){let{isBrowser:r,isMix:n}=t.getGlobalObjects();if(!r&&!n||!e.customElements||!("customElements"in e))return;let s=["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"];t.patchCallbacks(t,e.customElements,"customElements","define",s)}function Ht(e,t){if(Zone[t.symbol("patchEventTarget")])return;let{eventNames:r,zoneSymbolEventNames:n,TRUE_STR:s,FALSE_STR:i,ZONE_SYMBOL_PREFIX:y}=t.getGlobalObjects();for(let u=0;u<r.length;u++){let a=r[u],T=a+i,d=a+s,w=y+T,_=y+d;n[a]={},n[a][i]=w,n[a][s]=_}let c=e.EventTarget;if(!(!c||!c.prototype))return t.patchEventTarget(e,t,[c&&c.prototype]),!0}function $t(e,t){t.patchEventPrototype(e,t)}Zone.__load_patch("legacy",e=>{let t=e[Zone.__symbol__("legacyPatch")];t&&t()});Zone.__load_patch("timers",e=>{let t="set",r="clear";Te(e,t,r,"Timeout"),Te(e,t,r,"Interval"),Te(e,t,r,"Immediate")});Zone.__load_patch("requestAnimationFrame",e=>{Te(e,"request","cancel","AnimationFrame"),Te(e,"mozRequest","mozCancel","AnimationFrame"),Te(e,"webkitRequest","webkitCancel","AnimationFrame")});Zone.__load_patch("blocking",(e,t)=>{let r=["alert","prompt","confirm"];for(let n=0;n<r.length;n++){let s=r[n];le(e,s,(i,y,c)=>function(u,a){return t.current.run(i,e,a,c)})}});Zone.__load_patch("EventTarget",(e,t,r)=>{$t(e,r),Ht(e,r);let n=e.XMLHttpRequestEventTarget;n&&n.prototype&&r.patchEventTarget(e,r,[n.prototype])});Zone.__load_patch("MutationObserver",(e,t,r)=>{Ee("MutationObserver"),Ee("WebKitMutationObserver")});Zone.__load_patch("IntersectionObserver",(e,t,r)=>{Ee("IntersectionObserver")});Zone.__load_patch("FileReader",(e,t,r)=>{Ee("FileReader")});Zone.__load_patch("on_property",(e,t,r)=>{Nt(r,e)});Zone.__load_patch("customElements",(e,t,r)=>{Lt(e,r)});Zone.__load_patch("XHR",(e,t)=>{u(e);let r=q("xhrTask"),n=q("xhrSync"),s=q("xhrListener"),i=q("xhrScheduled"),y=q("xhrURL"),c=q("xhrErrorBeforeScheduled");function u(a){let T=a.XMLHttpRequest;if(!T)return;let d=T.prototype;function w(A){return A[r]}let _=d[De],g=d[Oe];if(!_){let A=a.XMLHttpRequestEventTarget;if(A){let $=A.prototype;_=$[De],g=$[Oe]}}let v="readystatechange",P="scheduled";function k(A){let $=A.data,M=$.target;M[i]=!1,M[c]=!1;let K=M[s];_||(_=M[De],g=M[Oe]),K&&g.call(M,v,K);let se=M[s]=()=>{if(M.readyState===M.DONE)if(!$.aborted&&M[i]&&A.state===P){let V=M[t.__symbol__("loadfalse")];if(M.status!==0&&V&&V.length>0){let ne=A.invoke;A.invoke=function(){let ee=M[t.__symbol__("loadfalse")];for(let Q=0;Q<ee.length;Q++)ee[Q]===A&&ee.splice(Q,1);!$.aborted&&A.state===P&&ne.call(A)},V.push(A)}else A.invoke()}else!$.aborted&&M[i]===!1&&(M[c]=!0)};return _.call(M,v,se),M[r]||(M[r]=A),R.apply(M,$.args),M[i]=!0,A}function f(){}function m(A){let $=A.data;return $.aborted=!0,z.apply($.target,$.args)}let C=le(d,"open",()=>function(A,$){return A[n]=$[2]==!1,A[y]=$[1],C.apply(A,$)}),I="XMLHttpRequest.send",L=q("fetchTaskAborting"),H=q("fetchTaskScheduling"),R=le(d,"send",()=>function(A,$){if(t.current[H]===!0||A[n])return R.apply(A,$);{let M={target:A,url:A[y],isPeriodic:!1,args:$,aborted:!1},K=$e(I,f,M,k,m);A&&A[c]===!0&&!M.aborted&&K.state===P&&K.invoke()}}),z=le(d,"abort",()=>function(A,$){let M=w(A);if(M&&typeof M.type=="string"){if(M.cancelFn==null||M.data&&M.data.aborted)return;M.zone.cancelTask(M)}else if(t.current[L]===!0)return z.apply(A,$)})}});Zone.__load_patch("geolocation",e=>{e.navigator&&e.navigator.geolocation&&At(e.navigator.geolocation,["getCurrentPosition","watchPosition"])});Zone.__load_patch("PromiseRejectionEvent",(e,t)=>{function r(n){return function(s){dt(e,n).forEach(y=>{let c=e.PromiseRejectionEvent;if(c){let u=new c(n,{promise:s.promise,reason:s.rejection});y.invoke(u)}})}}e.PromiseRejectionEvent&&(t[q("unhandledPromiseRejectionHandler")]=r("unhandledrejection"),t[q("rejectionHandledHandler")]=r("rejectionhandled"))});Zone.__load_patch("queueMicrotask",(e,t,r)=>{Ft(e,r)});var mt=`
`,_t={},ze="__creationTrace__",yt="STACKTRACE TRACKING",Ve="__SEP_TAG__",gt=Ve+"@[native]",Ie=class{constructor(){this.error=zt(),this.timestamp=new Date}};function Ce(){return new Error(yt)}function kt(){try{throw Ce()}catch(e){return e}}var Ut=Ce(),qt=kt(),zt=Ut.stack?Ce:qt.stack?kt:Ce;function Et(e){return e.stack?e.stack.split(mt):[]}function Bt(e,t){let r=Et(t);for(let n=0;n<r.length;n++){let s=r[n];_t.hasOwnProperty(s)||e.push(r[n])}}function Tt(e,t){let r=[t?t.trim():""];if(e){let n=new Date().getTime();for(let s=0;s<e.length;s++){let i=e[s],y=i.timestamp,c=`____________________Elapsed ${n-y.getTime()} ms; At: ${y}`;c=c.replace(/[^\w\d]/g,"_"),r.push(gt.replace(Ve,c)),Bt(r,i.error),n=y.getTime()}}return r.join(mt)}function Be(){return Error.stackTraceLimit>0}Zone.longStackTraceZoneSpec={name:"long-stack-trace",longStackTraceLimit:10,getLongStackTrace:function(e){if(!e)return;let t=e[Zone.__symbol__("currentTaskTrace")];return t?Tt(t,e.stack):e.stack},onScheduleTask:function(e,t,r,n){if(Be()){let s=Zone.currentTask,i=s&&s.data&&s.data[ze]||[];i=[new Ie].concat(i),i.length>this.longStackTraceLimit&&(i.length=this.longStackTraceLimit),n.data||(n.data={}),n.type==="eventTask"&&(n.data={...n.data}),n.data[ze]=i}return e.scheduleTask(r,n)},onHandleError:function(e,t,r,n){if(Be()){let s=Zone.currentTask||n.task;if(n instanceof Error&&s){let i=Tt(s.data&&s.data[ze],n.stack);try{n.stack=n.longStack=i}catch{}}}return e.handleError(r,n)}};function Pt(e,t){t>0&&(e.push(Et(new Ie().error)),Pt(e,t-1))}function Gt(){if(!Be())return;let e=[];Pt(e,2);let t=e[0],r=e[1];for(let n=0;n<t.length;n++){let s=t[n];if(s.indexOf(yt)==-1){let i=s.match(/^\s*at\s+/);if(i){gt=i[0]+Ve+" (http://localhost)";break}}}for(let n=0;n<t.length;n++){let s=t[n],i=r[n];if(s===i)_t[s]=!0;else break}}Gt();var Ge=class e{static get(){return Zone.current.get("ProxyZoneSpec")}static isLoaded(){return e.get()instanceof e}static assertPresent(){if(!e.isLoaded())throw new Error("Expected to be running in 'ProxyZone', but it was not found.");return e.get()}constructor(t=null){this.defaultSpecDelegate=t,this.name="ProxyZone",this._delegateSpec=null,this.properties={ProxyZoneSpec:this},this.propertyKeys=null,this.lastTaskState=null,this.isNeedToTriggerHasTask=!1,this.tasks=[],this.setDelegate(t)}setDelegate(t){let r=this._delegateSpec!==t;this._delegateSpec=t,this.propertyKeys&&this.propertyKeys.forEach(n=>delete this.properties[n]),this.propertyKeys=null,t&&t.properties&&(this.propertyKeys=Object.keys(t.properties),this.propertyKeys.forEach(n=>this.properties[n]=t.properties[n])),r&&this.lastTaskState&&(this.lastTaskState.macroTask||this.lastTaskState.microTask)&&(this.isNeedToTriggerHasTask=!0)}getDelegate(){return this._delegateSpec}resetDelegate(){this.getDelegate(),this.setDelegate(this.defaultSpecDelegate)}tryTriggerHasTask(t,r,n){this.isNeedToTriggerHasTask&&this.lastTaskState&&(this.isNeedToTriggerHasTask=!1,this.onHasTask(t,r,n,this.lastTaskState))}removeFromTasks(t){if(this.tasks){for(let r=0;r<this.tasks.length;r++)if(this.tasks[r]===t){this.tasks.splice(r,1);return}}}getAndClearPendingTasksInfo(){if(this.tasks.length===0)return"";let r="--Pending async tasks are: ["+this.tasks.map(n=>{let s=n.data&&Object.keys(n.data).map(i=>i+":"+n.data[i]).join(",");return`type: ${n.type}, source: ${n.source}, args: {${s}}`})+"]";return this.tasks=[],r}onFork(t,r,n,s){return this._delegateSpec&&this._delegateSpec.onFork?this._delegateSpec.onFork(t,r,n,s):t.fork(n,s)}onIntercept(t,r,n,s,i){return this._delegateSpec&&this._delegateSpec.onIntercept?this._delegateSpec.onIntercept(t,r,n,s,i):t.intercept(n,s,i)}onInvoke(t,r,n,s,i,y,c){return this.tryTriggerHasTask(t,r,n),this._delegateSpec&&this._delegateSpec.onInvoke?this._delegateSpec.onInvoke(t,r,n,s,i,y,c):t.invoke(n,s,i,y,c)}onHandleError(t,r,n,s){return this._delegateSpec&&this._delegateSpec.onHandleError?this._delegateSpec.onHandleError(t,r,n,s):t.handleError(n,s)}onScheduleTask(t,r,n,s){return s.type!=="eventTask"&&this.tasks.push(s),this._delegateSpec&&this._delegateSpec.onScheduleTask?this._delegateSpec.onScheduleTask(t,r,n,s):t.scheduleTask(n,s)}onInvokeTask(t,r,n,s,i,y){return s.type!=="eventTask"&&this.removeFromTasks(s),this.tryTriggerHasTask(t,r,n),this._delegateSpec&&this._delegateSpec.onInvokeTask?this._delegateSpec.onInvokeTask(t,r,n,s,i,y):t.invokeTask(n,s,i,y)}onCancelTask(t,r,n,s){return s.type!=="eventTask"&&this.removeFromTasks(s),this.tryTriggerHasTask(t,r,n),this._delegateSpec&&this._delegateSpec.onCancelTask?this._delegateSpec.onCancelTask(t,r,n,s):t.cancelTask(n,s)}onHasTask(t,r,n,s){this.lastTaskState=s,this._delegateSpec&&this._delegateSpec.onHasTask?this._delegateSpec.onHasTask(t,r,n,s):t.hasTask(n,s)}};Zone.ProxyZoneSpec=Ge;var We=class{constructor(t){this.runZone=Zone.current,this.name="syncTestZone for "+t}onScheduleTask(t,r,n,s){switch(s.type){case"microTask":case"macroTask":throw new Error(`Cannot call ${s.source} from within a sync test (${this.name}).`);case"eventTask":s=t.scheduleTask(n,s);break}return s}};Zone.SyncTestZoneSpec=We;Zone.__load_patch("jasmine",(e,t,r)=>{let n=function(P,k){for(let m in k)k.hasOwnProperty(m)&&(P[m]=k[m]);function f(){this.constructor=P}P.prototype=k===null?Object.create(k):(f.prototype=k.prototype,new f)};if(!t)throw new Error("Missing: zone.js");if(typeof jest<"u"||typeof jasmine>"u"||jasmine.__zone_patch__)return;jasmine.__zone_patch__=!0;let s=t.SyncTestZoneSpec,i=t.ProxyZoneSpec;if(!s)throw new Error("Missing: SyncTestZoneSpec");if(!i)throw new Error("Missing: ProxyZoneSpec");let y=t.current,c=t.__symbol__,u=e[c("fakeAsyncDisablePatchingClock")]===!0,a=!u&&(e[c("fakeAsyncPatchLock")]===!0||e[c("fakeAsyncAutoFakeAsyncWhenClockPatched")]===!0);if(!(e[c("ignoreUnhandledRejection")]===!0)){let P=jasmine.GlobalErrors;P&&!jasmine[c("GlobalErrors")]&&(jasmine[c("GlobalErrors")]=P,jasmine.GlobalErrors=function(){let k=new P,f=k.install;return f&&!k[c("install")]&&(k[c("install")]=f,k.install=function(){let m=typeof process<"u"&&!!process.on,C=m?process.listeners("unhandledRejection"):e.eventListeners("unhandledrejection"),I=f.apply(this,arguments);return m?process.removeAllListeners("unhandledRejection"):e.removeAllListeners("unhandledrejection"),C&&C.forEach(L=>{m?process.on("unhandledRejection",L):e.addEventListener("unhandledrejection",L)}),I}),k})}let d=jasmine.getEnv();if(["describe","xdescribe","fdescribe"].forEach(P=>{let k=d[P];d[P]=function(f,m){return k.call(this,f,w(f,m))}}),["it","xit","fit"].forEach(P=>{let k=d[P];d[c(P)]=k,d[P]=function(f,m,C){return arguments[1]=g(m),k.apply(this,arguments)}}),["beforeEach","afterEach","beforeAll","afterAll"].forEach(P=>{let k=d[P];d[c(P)]=k,d[P]=function(f,m){return arguments[0]=g(f),k.apply(this,arguments)}}),!u){let P=jasmine[c("clock")]=jasmine.clock;jasmine.clock=function(){let k=P.apply(this,arguments);if(!k[c("patched")]){k[c("patched")]=c("patched");let f=k[c("tick")]=k.tick;k.tick=function(){let C=t.current.get("FakeAsyncTestZoneSpec");return C?C.tick.apply(C,arguments):f.apply(this,arguments)};let m=k[c("mockDate")]=k.mockDate;k.mockDate=function(){let C=t.current.get("FakeAsyncTestZoneSpec");if(C){let I=arguments.length>0?arguments[0]:new Date;return C.setFakeBaseSystemTime.apply(C,I&&typeof I.getTime=="function"?[I.getTime()]:arguments)}return m.apply(this,arguments)},a&&["install","uninstall"].forEach(C=>{let I=k[c(C)]=k[C];k[C]=function(){if(t.FakeAsyncTestZoneSpec){jasmine[c("clockInstalled")]=C==="install";return}return I.apply(this,arguments)}})}return k}}if(!jasmine[t.__symbol__("createSpyObj")]){let P=jasmine.createSpyObj;jasmine[t.__symbol__("createSpyObj")]=P,jasmine.createSpyObj=function(){let k=Array.prototype.slice.call(arguments),f=k.length>=3?k[2]:null,m;if(f){let C=Object.defineProperty;Object.defineProperty=function(I,L,H){return C.call(this,I,L,{...H,configurable:!0,enumerable:!0})};try{m=P.apply(this,k)}finally{Object.defineProperty=C}}else m=P.apply(this,k);return m}}function w(P,k){return function(){return y.fork(new s(`jasmine.describe#${P}`)).run(k,this,arguments)}}function _(P,k,f,m){let C=!!jasmine[c("clockInstalled")];f.testProxyZoneSpec;let I=f.testProxyZone;if(C&&a){let L=t[t.__symbol__("fakeAsyncTest")];L&&typeof L.fakeAsync=="function"&&(P=L.fakeAsync(P))}return m?I.run(P,k,[m]):I.run(P,k)}function g(P){return P&&(P.length?function(k){return _(P,this,this.queueRunner,k)}:function(){return _(P,this,this.queueRunner)})}let v=jasmine.QueueRunner;jasmine.QueueRunner=function(P){n(k,P);function k(f){f.onComplete&&(f.onComplete=(L=>()=>{this.testProxyZone=null,this.testProxyZoneSpec=null,y.scheduleMicroTask("jasmine.onComplete",L)})(f.onComplete));let m=e[t.__symbol__("setTimeout")],C=e[t.__symbol__("clearTimeout")];m&&(f.timeout={setTimeout:m||e.setTimeout,clearTimeout:C||e.clearTimeout}),jasmine.UserContext?(f.userContext||(f.userContext=new jasmine.UserContext),f.userContext.queueRunner=this):(f.userContext||(f.userContext={}),f.userContext.queueRunner=this);let I=f.onException;f.onException=function(L){if(L&&L.message==="Timeout - Async callback was not invoked within timeout specified by jasmine.DEFAULT_TIMEOUT_INTERVAL."){let H=this&&this.testProxyZoneSpec;if(H){let R=H.getAndClearPendingTasksInfo();try{L.message+=R}catch{}}}I&&I.call(this,L)},P.call(this,f)}return k.prototype.execute=function(){let f=t.current,m=!1;for(;f;){if(f===y){m=!0;break}f=f.parent}if(!m)throw new Error("Unexpected Zone: "+t.current.name);this.testProxyZoneSpec=new i,this.testProxyZone=y.fork(this.testProxyZoneSpec),t.currentTask?P.prototype.execute.call(this):t.current.scheduleMicroTask("jasmine.execute().forceTask",()=>v.prototype.execute.call(this))},k}(v)});Zone.__load_patch("jest",(e,t,r)=>{if(typeof jest>"u"||jest.__zone_patch__)return;t[r.symbol("ignoreConsoleErrorUncaughtError")]=!0,jest.__zone_patch__=!0;let n=t.ProxyZoneSpec,s=t.SyncTestZoneSpec;if(!n)throw new Error("Missing ProxyZoneSpec");let i=t.current,y=i.fork(new s("jest.describe")),c=new n,u=i.fork(c);function a(_){return function(...g){let v=_.apply(this,g);return function(...P){return P[1]=d(P[1]),v.apply(this,P)}}}function T(_){return function(...g){return function(...v){return v[1]=w(v[1]),_.apply(this,g).apply(this,v)}}}function d(_){return function(...g){return y.run(_,this,g)}}function w(_,g=!1){if(typeof _!="function")return _;let v=function(){if(t[r.symbol("useFakeTimersCalled")]===!0&&_&&!_.isFakeAsync){let P=t[t.__symbol__("fakeAsyncTest")];P&&typeof P.fakeAsync=="function"&&(_=P.fakeAsync(_))}return c.isTestFunc=g,u.run(_,null,arguments)};return Object.defineProperty(v,"length",{configurable:!0,writable:!0,enumerable:!1}),v.length=_.length,v}["describe","xdescribe","fdescribe"].forEach(_=>{let g=e[_];e[t.__symbol__(_)]||(e[t.__symbol__(_)]=g,e[_]=function(...v){return v[1]=d(v[1]),g.apply(this,v)},e[_].each=a(g.each))}),e.describe.only=e.fdescribe,e.describe.skip=e.xdescribe,["it","xit","fit","test","xtest"].forEach(_=>{let g=e[_];e[t.__symbol__(_)]||(e[t.__symbol__(_)]=g,e[_]=function(...v){return v[1]=w(v[1],!0),g.apply(this,v)},e[_].each=T(g.each),e[_].todo=g.todo)}),e.it.only=e.fit,e.it.skip=e.xit,e.test.only=e.fit,e.test.skip=e.xit,["beforeEach","afterEach","beforeAll","afterAll"].forEach(_=>{let g=e[_];e[t.__symbol__(_)]||(e[t.__symbol__(_)]=g,e[_]=function(...v){return v[0]=w(v[0]),g.apply(this,v)})}),t.patchJestObject=function(g,v=!1){function P(){return!!t.current.get("FakeAsyncTestZoneSpec")}function k(){let f=t.current.get("ProxyZoneSpec");return f&&f.isTestFunc}g[r.symbol("fakeTimers")]||(g[r.symbol("fakeTimers")]=!0,r.patchMethod(g,"_checkFakeTimers",f=>function(m,C){return P()?!0:f.apply(m,C)}),r.patchMethod(g,"useFakeTimers",f=>function(m,C){return t[r.symbol("useFakeTimersCalled")]=!0,v||k()?f.apply(m,C):m}),r.patchMethod(g,"useRealTimers",f=>function(m,C){return t[r.symbol("useFakeTimersCalled")]=!1,v||k()?f.apply(m,C):m}),r.patchMethod(g,"setSystemTime",f=>function(m,C){let I=t.current.get("FakeAsyncTestZoneSpec");if(I&&P())I.setFakeBaseSystemTime(C[0]);else return f.apply(m,C)}),r.patchMethod(g,"getRealSystemTime",f=>function(m,C){let I=t.current.get("FakeAsyncTestZoneSpec");return I&&P()?I.getRealSystemTime():f.apply(m,C)}),r.patchMethod(g,"runAllTicks",f=>function(m,C){let I=t.current.get("FakeAsyncTestZoneSpec");if(I)I.flushMicrotasks();else return f.apply(m,C)}),r.patchMethod(g,"runAllTimers",f=>function(m,C){let I=t.current.get("FakeAsyncTestZoneSpec");if(I)I.flush(100,!0);else return f.apply(m,C)}),r.patchMethod(g,"advanceTimersByTime",f=>function(m,C){let I=t.current.get("FakeAsyncTestZoneSpec");if(I)I.tick(C[0]);else return f.apply(m,C)}),r.patchMethod(g,"runOnlyPendingTimers",f=>function(m,C){let I=t.current.get("FakeAsyncTestZoneSpec");if(I)I.flushOnlyPendingTimers();else return f.apply(m,C)}),r.patchMethod(g,"advanceTimersToNextTimer",f=>function(m,C){let I=t.current.get("FakeAsyncTestZoneSpec");if(I)I.tickToNext(C[0]);else return f.apply(m,C)}),r.patchMethod(g,"clearAllTimers",f=>function(m,C){let I=t.current.get("FakeAsyncTestZoneSpec");if(I)I.removeAllTimers();else return f.apply(m,C)}),r.patchMethod(g,"getTimerCount",f=>function(m,C){let I=t.current.get("FakeAsyncTestZoneSpec");return I?I.getTimerCount():f.apply(m,C)}))}});Zone.__load_patch("mocha",(e,t)=>{let r=e.Mocha;if(typeof r>"u")return;if(typeof t>"u")throw new Error("Missing Zone.js");let n=t.ProxyZoneSpec,s=t.SyncTestZoneSpec;if(!n)throw new Error("Missing ProxyZoneSpec");if(r.__zone_patch__)throw new Error('"Mocha" has already been patched with "Zone".');r.__zone_patch__=!0;let i=t.current,y=i.fork(new s("Mocha.describe")),c=null,u=i.fork(new n),a={after:e.after,afterEach:e.afterEach,before:e.before,beforeEach:e.beforeEach,describe:e.describe,it:e.it};function T(g,v,P){for(let k=0;k<g.length;k++){let f=g[k];typeof f=="function"&&(g[k]=f.length===0?v(f):P(f),g[k].toString=function(){return f.toString()})}return g}function d(g){return T(g,function(P){return function(){return y.run(P,this,arguments)}})}function w(g){return T(g,function(k){return function(){return c.run(k,this)}},function(k){return function(f){return c.run(k,this,[f])}})}function _(g){return T(g,function(k){return function(){return u.run(k,this)}},function(k){return function(f){return u.run(k,this,[f])}})}e.describe=e.suite=function(){return a.describe.apply(this,d(arguments))},e.xdescribe=e.suite.skip=e.describe.skip=function(){return a.describe.skip.apply(this,d(arguments))},e.describe.only=e.suite.only=function(){return a.describe.only.apply(this,d(arguments))},e.it=e.specify=e.test=function(){return a.it.apply(this,w(arguments))},e.xit=e.xspecify=e.it.skip=function(){return a.it.skip.apply(this,w(arguments))},e.it.only=e.test.only=function(){return a.it.only.apply(this,w(arguments))},e.after=e.suiteTeardown=function(){return a.after.apply(this,_(arguments))},e.afterEach=e.teardown=function(){return a.afterEach.apply(this,w(arguments))},e.before=e.suiteSetup=function(){return a.before.apply(this,_(arguments))},e.beforeEach=e.setup=function(){return a.beforeEach.apply(this,w(arguments))},((g,v)=>{r.Runner.prototype.runTest=function(P){t.current.scheduleMicroTask("mocha.forceTask",()=>{g.call(this,P)})},r.Runner.prototype.run=function(P){return this.on("test",k=>{c=i.fork(new n)}),this.on("fail",(k,f)=>{let m=c&&c.get("ProxyZoneSpec");if(m&&f)try{f.message+=m.getAndClearPendingTasksInfo()}catch{}}),v.call(this,P)}})(r.Runner.prototype.runTest,r.Runner.prototype.run)});(function(e){let r=class r{constructor(s,i,y){this.finishCallback=s,this.failCallback=i,this._pendingMicroTasks=!1,this._pendingMacroTasks=!1,this._alreadyErrored=!1,this._isSync=!1,this._existingFinishTimer=null,this.entryFunction=null,this.runZone=Zone.current,this.unresolvedChainedPromiseCount=0,this.supportWaitUnresolvedChainedPromise=!1,this.name="asyncTestZone for "+y,this.properties={AsyncTestZoneSpec:this},this.supportWaitUnresolvedChainedPromise=e[Zone.__symbol__("supportWaitUnResolvedChainedPromise")]===!0}isUnresolvedChainedPromisePending(){return this.unresolvedChainedPromiseCount>0}_finishCallbackIfDone(){this._existingFinishTimer!==null&&(clearTimeout(this._existingFinishTimer),this._existingFinishTimer=null),this._pendingMicroTasks||this._pendingMacroTasks||this.supportWaitUnresolvedChainedPromise&&this.isUnresolvedChainedPromisePending()||this.runZone.run(()=>{this._existingFinishTimer=setTimeout(()=>{!this._alreadyErrored&&!(this._pendingMicroTasks||this._pendingMacroTasks)&&this.finishCallback()},0)})}patchPromiseForTest(){if(!this.supportWaitUnresolvedChainedPromise)return;let s=Promise[Zone.__symbol__("patchPromiseForTest")];s&&s()}unPatchPromiseForTest(){if(!this.supportWaitUnresolvedChainedPromise)return;let s=Promise[Zone.__symbol__("unPatchPromiseForTest")];s&&s()}onScheduleTask(s,i,y,c){return c.type!=="eventTask"&&(this._isSync=!1),c.type==="microTask"&&c.data&&c.data instanceof Promise&&c.data[r.symbolParentUnresolved]===!0&&this.unresolvedChainedPromiseCount--,s.scheduleTask(y,c)}onInvokeTask(s,i,y,c,u,a){return c.type!=="eventTask"&&(this._isSync=!1),s.invokeTask(y,c,u,a)}onCancelTask(s,i,y,c){return c.type!=="eventTask"&&(this._isSync=!1),s.cancelTask(y,c)}onInvoke(s,i,y,c,u,a,T){this.entryFunction||(this.entryFunction=c);try{return this._isSync=!0,s.invoke(y,c,u,a,T)}finally{this._isSync&&this.entryFunction===c&&this._finishCallbackIfDone()}}onHandleError(s,i,y,c){return s.handleError(y,c)&&(this.failCallback(c),this._alreadyErrored=!0),!1}onHasTask(s,i,y,c){s.hasTask(y,c),i===y&&(c.change=="microTask"?(this._pendingMicroTasks=c.microTask,this._finishCallbackIfDone()):c.change=="macroTask"&&(this._pendingMacroTasks=c.macroTask,this._finishCallbackIfDone()))}};r.symbolParentUnresolved=Zone.__symbol__("parentUnresolved");let t=r;Zone.AsyncTestZoneSpec=t})(typeof window<"u"&&window||typeof self<"u"&&self||global);Zone.__load_patch("asynctest",(e,t,r)=>{t[r.symbol("asyncTest")]=function(i){return e.jasmine?function(y){y||(y=function(){},y.fail=function(c){throw c}),n(i,this,y,c=>{if(typeof c=="string")return y.fail(new Error(c));y.fail(c)})}:function(){return new Promise((y,c)=>{n(i,this,y,c)})}};function n(s,i,y,c){let u=t.current,a=t.AsyncTestZoneSpec;if(a===void 0)throw new Error("AsyncTestZoneSpec is needed for the async() test helper but could not be found. Please make sure that your environment includes zone.js/plugins/async-test");let T=t.ProxyZoneSpec;if(!T)throw new Error("ProxyZoneSpec is needed for the async() test helper but could not be found. Please make sure that your environment includes zone.js/plugins/proxy");let d=T.get();T.assertPresent();let w=t.current.getZoneWith("ProxyZoneSpec"),_=d.getDelegate();return w.parent.run(()=>{let g=new a(()=>{d.getDelegate()==g&&d.setDelegate(_),g.unPatchPromiseForTest(),u.run(()=>{y()})},v=>{d.getDelegate()==g&&d.setDelegate(_),g.unPatchPromiseForTest(),u.run(()=>{c(v)})},"test");d.setDelegate(g),g.patchPromiseForTest()}),t.current.runGuarded(s,i)}});(function(e){let t=e.Date;function r(){if(arguments.length===0){let c=new t;return c.setTime(r.now()),c}else{let c=Array.prototype.slice.call(arguments);return new t(...c)}}r.now=function(){let c=Zone.current.get("FakeAsyncTestZoneSpec");return c?c.getFakeSystemTime():t.now.apply(this,arguments)},r.UTC=t.UTC,r.parse=t.parse;let n={setTimeout:e.setTimeout,setInterval:e.setInterval,clearTimeout:e.clearTimeout,clearInterval:e.clearInterval},y=class y{constructor(){this._schedulerQueue=[],this._currentTickTime=0,this._currentFakeBaseSystemTime=t.now(),this._currentTickRequeuePeriodicEntries=[]}getCurrentTickTime(){return this._currentTickTime}getFakeSystemTime(){return this._currentFakeBaseSystemTime+this._currentTickTime}setFakeBaseSystemTime(u){this._currentFakeBaseSystemTime=u}getRealSystemTime(){return t.now()}scheduleFunction(u,a,T){T={args:[],isPeriodic:!1,isRequestAnimationFrame:!1,id:-1,isRequeuePeriodic:!1,...T};let d=T.id<0?y.nextId++:T.id,_={endTime:this._currentTickTime+a,id:d,func:u,args:T.args,delay:a,isPeriodic:T.isPeriodic,isRequestAnimationFrame:T.isRequestAnimationFrame};T.isRequeuePeriodic&&this._currentTickRequeuePeriodicEntries.push(_);let g=0;for(;g<this._schedulerQueue.length;g++){let v=this._schedulerQueue[g];if(_.endTime<v.endTime)break}return this._schedulerQueue.splice(g,0,_),d}removeScheduledFunctionWithId(u){for(let a=0;a<this._schedulerQueue.length;a++)if(this._schedulerQueue[a].id==u){this._schedulerQueue.splice(a,1);break}}removeAll(){this._schedulerQueue=[]}getTimerCount(){return this._schedulerQueue.length}tickToNext(u=1,a,T){if(this._schedulerQueue.length<u)return;let d=this._currentTickTime,w=this._schedulerQueue[u-1];this.tick(w.endTime-d,a,T)}tick(u=0,a,T){let d=this._currentTickTime+u,w=0;T=Object.assign({processNewMacroTasksSynchronously:!0},T);let _=T.processNewMacroTasksSynchronously?this._schedulerQueue:this._schedulerQueue.slice();if(_.length===0&&a){a(u);return}for(;_.length>0;){this._currentTickRequeuePeriodicEntries=[];let g=_[0];if(d<g.endTime)break;{let v=_.shift();if(!T.processNewMacroTasksSynchronously){let k=this._schedulerQueue.indexOf(v);k>=0&&this._schedulerQueue.splice(k,1)}if(w=this._currentTickTime,this._currentTickTime=v.endTime,a&&a(this._currentTickTime-w),!v.func.apply(e,v.isRequestAnimationFrame?[this._currentTickTime]:v.args))break;T.processNewMacroTasksSynchronously||this._currentTickRequeuePeriodicEntries.forEach(k=>{let f=0;for(;f<_.length;f++){let m=_[f];if(k.endTime<m.endTime)break}_.splice(f,0,k)})}}w=this._currentTickTime,this._currentTickTime=d,a&&a(this._currentTickTime-w)}flushOnlyPendingTimers(u){if(this._schedulerQueue.length===0)return 0;let a=this._currentTickTime,T=this._schedulerQueue[this._schedulerQueue.length-1];return this.tick(T.endTime-a,u,{processNewMacroTasksSynchronously:!1}),this._currentTickTime-a}flush(u=20,a=!1,T){return a?this.flushPeriodic(T):this.flushNonPeriodic(u,T)}flushPeriodic(u){if(this._schedulerQueue.length===0)return 0;let a=this._currentTickTime,T=this._schedulerQueue[this._schedulerQueue.length-1];return this.tick(T.endTime-a,u),this._currentTickTime-a}flushNonPeriodic(u,a){let T=this._currentTickTime,d=0,w=0;for(;this._schedulerQueue.length>0;){if(w++,w>u)throw new Error("flush failed after reaching the limit of "+u+" tasks. Does your code use a polling timeout?");if(this._schedulerQueue.filter(v=>!v.isPeriodic&&!v.isRequestAnimationFrame).length===0)break;let _=this._schedulerQueue.shift();if(d=this._currentTickTime,this._currentTickTime=_.endTime,a&&a(this._currentTickTime-d),!_.func.apply(e,_.args))break}return this._currentTickTime-T}};y.nextId=1;let s=y;class i{static assertInZone(){if(Zone.current.get("FakeAsyncTestZoneSpec")==null)throw new Error("The code should be running in the fakeAsync zone to call this function")}constructor(u,a=!1,T){this.trackPendingRequestAnimationFrame=a,this.macroTaskOptions=T,this._scheduler=new s,this._microtasks=[],this._lastError=null,this._uncaughtPromiseErrors=Promise[Zone.__symbol__("uncaughtPromiseErrors")],this.pendingPeriodicTimers=[],this.pendingTimers=[],this.patchDateLocked=!1,this.properties={FakeAsyncTestZoneSpec:this},this.name="fakeAsyncTestZone for "+u,this.macroTaskOptions||(this.macroTaskOptions=e[Zone.__symbol__("FakeAsyncTestMacroTask")])}_fnAndFlush(u,a){return(...T)=>(u.apply(e,T),this._lastError===null?(a.onSuccess!=null&&a.onSuccess.apply(e),this.flushMicrotasks()):a.onError!=null&&a.onError.apply(e),this._lastError===null)}static _removeTimer(u,a){let T=u.indexOf(a);T>-1&&u.splice(T,1)}_dequeueTimer(u){return()=>{i._removeTimer(this.pendingTimers,u)}}_requeuePeriodicTimer(u,a,T,d){return()=>{this.pendingPeriodicTimers.indexOf(d)!==-1&&this._scheduler.scheduleFunction(u,a,{args:T,isPeriodic:!0,id:d,isRequeuePeriodic:!0})}}_dequeuePeriodicTimer(u){return()=>{i._removeTimer(this.pendingPeriodicTimers,u)}}_setTimeout(u,a,T,d=!0){let w=this._dequeueTimer(s.nextId),_=this._fnAndFlush(u,{onSuccess:w,onError:w}),g=this._scheduler.scheduleFunction(_,a,{args:T,isRequestAnimationFrame:!d});return d&&this.pendingTimers.push(g),g}_clearTimeout(u){i._removeTimer(this.pendingTimers,u),this._scheduler.removeScheduledFunctionWithId(u)}_setInterval(u,a,T){let d=s.nextId,w={onSuccess:null,onError:this._dequeuePeriodicTimer(d)},_=this._fnAndFlush(u,w);return w.onSuccess=this._requeuePeriodicTimer(_,a,T,d),this._scheduler.scheduleFunction(_,a,{args:T,isPeriodic:!0}),this.pendingPeriodicTimers.push(d),d}_clearInterval(u){i._removeTimer(this.pendingPeriodicTimers,u),this._scheduler.removeScheduledFunctionWithId(u)}_resetLastErrorAndThrow(){let u=this._lastError||this._uncaughtPromiseErrors[0];throw this._uncaughtPromiseErrors.length=0,this._lastError=null,u}getCurrentTickTime(){return this._scheduler.getCurrentTickTime()}getFakeSystemTime(){return this._scheduler.getFakeSystemTime()}setFakeBaseSystemTime(u){this._scheduler.setFakeBaseSystemTime(u)}getRealSystemTime(){return this._scheduler.getRealSystemTime()}static patchDate(){e[Zone.__symbol__("disableDatePatching")]||e.Date!==r&&(e.Date=r,r.prototype=t.prototype,i.checkTimerPatch())}static resetDate(){e.Date===r&&(e.Date=t)}static checkTimerPatch(){e.setTimeout!==n.setTimeout&&(e.setTimeout=n.setTimeout,e.clearTimeout=n.clearTimeout),e.setInterval!==n.setInterval&&(e.setInterval=n.setInterval,e.clearInterval=n.clearInterval)}lockDatePatch(){this.patchDateLocked=!0,i.patchDate()}unlockDatePatch(){this.patchDateLocked=!1,i.resetDate()}tickToNext(u=1,a,T={processNewMacroTasksSynchronously:!0}){u<=0||(i.assertInZone(),this.flushMicrotasks(),this._scheduler.tickToNext(u,a,T),this._lastError!==null&&this._resetLastErrorAndThrow())}tick(u=0,a,T={processNewMacroTasksSynchronously:!0}){i.assertInZone(),this.flushMicrotasks(),this._scheduler.tick(u,a,T),this._lastError!==null&&this._resetLastErrorAndThrow()}flushMicrotasks(){i.assertInZone();let u=()=>{(this._lastError!==null||this._uncaughtPromiseErrors.length)&&this._resetLastErrorAndThrow()};for(;this._microtasks.length>0;){let a=this._microtasks.shift();a.func.apply(a.target,a.args)}u()}flush(u,a,T){i.assertInZone(),this.flushMicrotasks();let d=this._scheduler.flush(u,a,T);return this._lastError!==null&&this._resetLastErrorAndThrow(),d}flushOnlyPendingTimers(u){i.assertInZone(),this.flushMicrotasks();let a=this._scheduler.flushOnlyPendingTimers(u);return this._lastError!==null&&this._resetLastErrorAndThrow(),a}removeAllTimers(){i.assertInZone(),this._scheduler.removeAll(),this.pendingPeriodicTimers=[],this.pendingTimers=[]}getTimerCount(){return this._scheduler.getTimerCount()+this._microtasks.length}onScheduleTask(u,a,T,d){switch(d.type){case"microTask":let w=d.data&&d.data.args,_;if(w){let g=d.data.cbIdx;typeof w.length=="number"&&w.length>g+1&&(_=Array.prototype.slice.call(w,g+1))}this._microtasks.push({func:d.invoke,args:_,target:d.data&&d.data.target});break;case"macroTask":switch(d.source){case"setTimeout":d.data.handleId=this._setTimeout(d.invoke,d.data.delay,Array.prototype.slice.call(d.data.args,2));break;case"setImmediate":d.data.handleId=this._setTimeout(d.invoke,0,Array.prototype.slice.call(d.data.args,1));break;case"setInterval":d.data.handleId=this._setInterval(d.invoke,d.data.delay,Array.prototype.slice.call(d.data.args,2));break;case"XMLHttpRequest.send":throw new Error("Cannot make XHRs from within a fake async test. Request URL: "+d.data.url);case"requestAnimationFrame":case"webkitRequestAnimationFrame":case"mozRequestAnimationFrame":d.data.handleId=this._setTimeout(d.invoke,16,d.data.args,this.trackPendingRequestAnimationFrame);break;default:let g=this.findMacroTaskOption(d);if(g){let v=d.data&&d.data.args,P=v&&v.length>1?v[1]:0,k=g.callbackArgs?g.callbackArgs:v;g.isPeriodic?(d.data.handleId=this._setInterval(d.invoke,P,k),d.data.isPeriodic=!0):d.data.handleId=this._setTimeout(d.invoke,P,k);break}throw new Error("Unknown macroTask scheduled in fake async test: "+d.source)}break;case"eventTask":d=u.scheduleTask(T,d);break}return d}onCancelTask(u,a,T,d){switch(d.source){case"setTimeout":case"requestAnimationFrame":case"webkitRequestAnimationFrame":case"mozRequestAnimationFrame":return this._clearTimeout(d.data.handleId);case"setInterval":return this._clearInterval(d.data.handleId);default:let w=this.findMacroTaskOption(d);if(w){let _=d.data.handleId;return w.isPeriodic?this._clearInterval(_):this._clearTimeout(_)}return u.cancelTask(T,d)}}onInvoke(u,a,T,d,w,_,g){try{return i.patchDate(),u.invoke(T,d,w,_,g)}finally{this.patchDateLocked||i.resetDate()}}findMacroTaskOption(u){if(!this.macroTaskOptions)return null;for(let a=0;a<this.macroTaskOptions.length;a++){let T=this.macroTaskOptions[a];if(T.source===u.source)return T}return null}onHandleError(u,a,T,d){return this._lastError=d,!1}}Zone.FakeAsyncTestZoneSpec=i})(typeof window=="object"&&window||typeof self=="object"&&self||global);Zone.__load_patch("fakeasync",(e,t,r)=>{let n=t&&t.FakeAsyncTestZoneSpec;function s(){return t&&t.ProxyZoneSpec}let i=null;function y(){i&&i.unlockDatePatch(),i=null,s()&&s().assertPresent().resetDelegate()}function c(_){let g=function(...v){let P=s();if(!P)throw new Error("ProxyZoneSpec is needed for the async() test helper but could not be found. Please make sure that your environment includes zone.js/plugins/proxy");let k=P.assertPresent();if(t.current.get("FakeAsyncTestZoneSpec"))throw new Error("fakeAsync() calls can not be nested");try{if(!i){if(k.getDelegate()instanceof n)throw new Error("fakeAsync() calls can not be nested");i=new n}let f,m=k.getDelegate();k.setDelegate(i),i.lockDatePatch();try{f=_.apply(this,v),w()}finally{k.setDelegate(m)}if(i.pendingPeriodicTimers.length>0)throw new Error(`${i.pendingPeriodicTimers.length} periodic timer(s) still in the queue.`);if(i.pendingTimers.length>0)throw new Error(`${i.pendingTimers.length} timer(s) still in the queue.`);return f}finally{y()}};return g.isFakeAsync=!0,g}function u(){if(i==null&&(i=t.current.get("FakeAsyncTestZoneSpec"),i==null))throw new Error("The code should be running in the fakeAsync zone to call this function");return i}function a(_=0,g=!1){u().tick(_,null,g)}function T(_){return u().flush(_)}function d(){let _=u();_.pendingPeriodicTimers,_.pendingPeriodicTimers.length=0}function w(){u().flushMicrotasks()}t[r.symbol("fakeAsyncTest")]={resetFakeAsyncZone:y,flushMicrotasks:w,discardPeriodicTasks:d,tick:a,flush:T,fakeAsync:c}},!0);Zone.__load_patch("promisefortest",(e,t,r)=>{let n=r.symbol("state"),s=null,i=r.symbol("parentUnresolved");Promise[r.symbol("patchPromiseForTest")]=function(){let c=Promise[t.__symbol__("ZonePromiseThen")];c||(c=Promise[t.__symbol__("ZonePromiseThen")]=Promise.prototype.then,Promise.prototype.then=function(){let u=c.apply(this,arguments);if(this[n]===s){let a=t.current.get("AsyncTestZoneSpec");a&&(a.unresolvedChainedPromiseCount++,u[i]=!0)}return u})},Promise[r.symbol("unPatchPromiseForTest")]=function(){let c=Promise[t.__symbol__("ZonePromiseThen")];c&&(Promise.prototype.then=c,Promise[t.__symbol__("ZonePromiseThen")]=void 0)}});var Wt=":";var Qe=class{visitText(t,r){return t.value}visitContainer(t,r){return`[${t.children.map(n=>n.visit(this)).join(", ")}]`}visitIcu(t,r){let n=Object.keys(t.cases).map(s=>`${s} {${t.cases[s].visit(this)}}`);return`{${t.expression}, ${t.type}, ${n.join(", ")}}`}visitTagPlaceholder(t,r){return t.isVoid?`<ph tag name="${t.startName}"/>`:`<ph tag name="${t.startName}">${t.children.map(n=>n.visit(this)).join(", ")}</ph name="${t.closeName}">`}visitPlaceholder(t,r){return t.value?`<ph name="${t.name}">${t.value}</ph>`:`<ph name="${t.name}"/>`}visitIcuPlaceholder(t,r){return`<ph icu name="${t.name}">${t.value.visit(this)}</ph>`}visitBlockPlaceholder(t,r){return`<ph block name="${t.startName}">${t.children.map(n=>n.visit(this)).join(", ")}</ph name="${t.closeName}">`}},Xt=new Qe;var St;(function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"})(St||(St={}));function Vt(e,t){for(let r=1,n=1;r<e.length;r++,n++)if(t[n]==="\\")n++;else if(e[r]===Wt)return r;throw new Error(`Unterminated $localize metadata block in "${t}".`)}var Ae=function(e,...t){if(Ae.translate){let n=Ae.translate(e,t);e=n[0],t=n[1]}let r=vt(e[0],e.raw[0]);for(let n=1;n<e.length;n++)r+=t[n-1]+vt(e[n],e.raw[n]);return r},Qt=":";function vt(e,t){return t.charAt(0)===Qt?e.substring(Vt(e,t)+1):e}globalThis.$localize=Ae;
